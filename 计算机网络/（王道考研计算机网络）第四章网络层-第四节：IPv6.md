 

- [指导获取：密码7281](https://url18.ctfile.com/f/22722418-803125355-edf378)
- [专栏目录首页：【专栏必读】王道考研408计算机网络+湖科大教书匠计算机网络+网络编程万字笔记、题目题型总结、注意事项、目录导航和思维导图](https://zhangxing-tech.blog.csdn.net/article/details/125668174)
- [王道考研408计算机组成原理万字笔记](https://zhangxing-tech.blog.csdn.net/article/details/120664162?spm=1001.2014.3001.5502)
- [王道考研408数据结构+计算机算法设计与分析万字笔记](https://blog.csdn.net/qq_39183034/article/details/121501138?spm=1001.2014.3001.5501)
- [王道考研408操作系统+Linux系统编程万字笔记](https://zhangxing-tech.blog.csdn.net/article/details/121004242?spm=1001.2014.3001.5502)

### 文章目录

- [一：IPv6数据报格式](#IPv6_20)
- - [（1）IPv4首部和IPv6首部](#1IPv4IPv6_22)
  - [（2）IPv6数据报格式](#2IPv6_35)
- [二：IPv6和IPv4的区别](#IPv6IPv4_52)
- [三：IPv6地址](#IPv6_70)
- - [（1）IPv6地址表示方法](#1IPv6_72)
  - [（2）IPv6基本地址类型](#2IPv6_88)
- [四：IPv6向IPv4过渡的策略](#IPv6IPv4_100)

**解决IP地址耗尽问题的措施主要有以下三种**

- 采用无类别编址CIDR，使IP地址的分配更加合理
- 采用网络地址转换NAT方法以节省全球IP地址
- 采用具有更大地址空间的新版本的IPv6

其中前两种方法仅仅是延长了IPv4地址分配结束的时间，而只有第三种方法从根本上解决了IP地址耗尽的问题

# 一：IPv6数据报格式

## （1）IPv4首部和IPv6首部

IPv4首部和IPv6首部区别如下，主要体现在

- **取消了首部校验和字段**：因为在数据链路层和传输层都会校验，因此IPv6直接取消了IP 的校验
- **取消了分片/重新组装相关字段**：分片与重组是耗时的过程，IPv6 不允许在中间路由器进行分片与重组，这种操作只能在源与目标主机，这将大大提高了路由器转发的速度
- **取消选项字段**：选项字段不再是标准IP首部的一部分了，但它并没有消失，而是可能出现在IPv6首部中的【下一个首部】指出的位置上。删除该选项字段使的IPv6的首部成为固定长度的40字节

![在这里插入图片描述](https://ziquyun.com/main/csdn/img?url=https%3A%2F%2Fimg-blog.csdnimg.cn%2F3fca9f2405454738a2a44af1f0e4b35a.png&rfUrl=https%3A%2F%2Fzhangxing-tech.blog.csdn.net%2Farticle%2Fdetails%2F125444987)

## （2）IPv6数据报格式

**IPv6数据报格式如下**

- **版本**：指IP的版本，**IPv6**
- **优先级**：区分数据报的类别和优先级
- **流标签**：“流"**是互联网络上从特定源点到特定终点的一系列数据报**。所有属于同一个流的数据报都具有同样的流标签
- **有效载荷长度**：指明有效载荷的长度（扩展首部+数据）
- **下一个首部**：标识**下一个扩展首部**或**上层协议首**部
- **跳数限制**：相当于IPv4中的**生存时间（TTL）**
- **源地址和目的地址**：相比于IPv4的32位做出了非常大的扩充，**大到地球上的每一个沙粒都可以分到一个IP地址**

![在这里插入图片描述](https://ziquyun.com/main/csdn/img?url=https%3A%2F%2Fimg-blog.csdnimg.cn%2F57cf790fd75842e39add5c6188ada18e.png&rfUrl=https%3A%2F%2Fzhangxing-tech.blog.csdn.net%2Farticle%2Fdetails%2F125444987)

# 二：IPv6和IPv4的区别

**IPv6和IPv4的区别主要体现在以下几个方面**

- IPv6将地址从**32位\(4B\)扩大到128位\(16B\)**，更大的地址空间
- IPv6将IPv4的**校验和字段彻底移除**，以减少每跳的处理时间
- IPv6将IPv4的可选字段移出首部，变成了**扩展首部**，成为灵活的首部格式，路由器通常不对扩展首部进行检查，大大提高了路由器的处理效率
- IPv6支持**即插即用\( 即自动配置\)**，不需要DHCP协议
- IPv6首部长度必须是**8B的整数倍**，IPv4 首部是4B的整数倍
- IPv6**只能在主机处分片**，IPv4可以在路由器和主机处分片
- ICMPv6:附加报文类型“**分组过大**”
- IPv6支持资源的**预分配，支持实时视像等要求**，保证一定的带宽和时延的应用。
- IPv6**取消了协议字段**，改成下一个首部字段
- IPv6**取消了总长度字段**，改用有效载荷长度字段
- IPv6**取消了服务类型字段**

# 三：IPv6地址

## （1）IPv6地址表示方法

**IPv6 地址长度是 128 位，是以每 16 位作为一组，每组用冒号`：`隔开、如下**

![在这里插入图片描述](https://ziquyun.com/main/csdn/img?url=https%3A%2F%2Fimg-blog.csdnimg.cn%2F7a5e238b1fa6463ab16744fa4612ffd3.png&rfUrl=https%3A%2F%2Fzhangxing-tech.blog.csdn.net%2Farticle%2Fdetails%2F125444987)

**如果出现连续的 0 时还可以将这些 0 省略，并用两个冒号`：：`隔开。但是，一个 IP 地址中只允许出现一次两个连续的冒号**

![在这里插入图片描述](https://ziquyun.com/main/csdn/img?url=https%3A%2F%2Fimg-blog.csdnimg.cn%2F3a65f63eed42472f8df84c1d0188ed37.png&rfUrl=https%3A%2F%2Fzhangxing-tech.blog.csdn.net%2Farticle%2Fdetails%2F125444987)

## （2）IPv6基本地址类型

**IPv6数据报的目的地址可以是以下三种基本类型地址之一**

- **单播**：传统的**点对点通信**
- **多播**：**一点对多点**的通信，分组被交付到一组计算机的每台计算机
- **任播**：这是IPv6增加的一种类型。任播的目的站是**一组计算机**，但数据报在交付时**只交付其中的一台计算机**，通常是**距离最近**的一台计算机

![在这里插入图片描述](https://ziquyun.com/main/csdn/img?url=https%3A%2F%2Fimg-blog.csdnimg.cn%2Fe2950073a469408d85eef3877842ffad.png&rfUrl=https%3A%2F%2Fzhangxing-tech.blog.csdn.net%2Farticle%2Fdetails%2F125444987)

# 四：IPv6向IPv4过渡的策略

IPv4和IPv6是不能相互兼容，想要全面普及IPv6不但要我们电脑、手机之类的设备支持，还需要网络运营商对现有的设备进行升级。IPv6向IPv4过渡的策略主要有两类

- **双栈协议**：双协议栈技术就是指在一台设备上**同时启用IPv4协议栈和IPv6协议栈**。这样的话，这台设备既能和IPv4网络通信，又能和IPv6网络通信。如果这台设备是一个路由器，那么这台路由器的不同接口上，分别配置了IPv4地址和IPv6地址，并很可能分别连接了IPv4网络和IPv6网络。如果这台设备是一个计算机，那么它将同时拥有IPv4地址和IPv6地址，并具备同时处理这两个协议地址的功能

- **隧道协议**：通过使用互联网络的基础设施在网络之间传递数据的方式。**使用隧道传递的数据\( 或负载\)可以是不同协议的数据帧或**包。隧道协议将其它协议的数据帧或包**重新封装**然后通过隧道发送