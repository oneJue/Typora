 

- [指导获取：密码7281](https://url18.ctfile.com/f/22722418-803125355-edf378)
- [专栏目录首页：【专栏必读】王道考研408计算机网络+湖科大教书匠计算机网络+网络编程万字笔记、题目题型总结、注意事项、目录导航和思维导图](https://zhangxing-tech.blog.csdn.net/article/details/125668174)
- [王道考研408计算机组成原理万字笔记](https://zhangxing-tech.blog.csdn.net/article/details/120664162?spm=1001.2014.3001.5502)
- [王道考研408数据结构+计算机算法设计与分析万字笔记](https://blog.csdn.net/qq_39183034/article/details/121501138?spm=1001.2014.3001.5501)
- [王道考研408操作系统+Linux系统编程万字笔记](https://zhangxing-tech.blog.csdn.net/article/details/121004242?spm=1001.2014.3001.5502)

### 文章目录

- [一：计算机网络的分层结构](#_13)
- - [（1）为什么要分层](#1_14)
  - [（2）计算机网络体系结构](#2_25)
  - [（3）分层原则](#3_30)
  - [（4）分层的优缺点](#4_41)
- [二：计算机网络分层中的协议、接口和服务](#_53)
- - [（1）协议、接口和服务](#1_78)
  - - [①：协议](#_81)
    - [②：接口](#_98)
    - [③：服务](#_103)
  - [（2）各层之间传送的信息](#2_109)

# 一：计算机网络的分层结构

## （1）为什么要分层

如果你学习或者了解过设计模式，那你就应该知道：**实现一个复杂的、多功能的程序，为了便于维护与拓展，程序的功能之间应该是解耦和的。因此，复杂的程序都要分层，这是程序设计的要求**

在计算机网络中，每一层的协议负责的工作都是不一样的，也就对应有了不同设备来处理

- 物理层只关心 0 和 1 是如何传输的，而对他们所表达的内容毫不关心；
- 数据链路层只关心数据帧是否准确地送到了对应MAC地址的目的主机，而不关心是通过光纤也好，同轴电缆也好，wifi也好，只要目的主机收到的数据帧没错就ok；
- …

## （2）计算机网络体系结构

**计算机网络体系结构：我们把计算机网络的各层及其协议的集合称为网络的体系结构\(Architecture\)。 换言之，计算机网络的体系结构就是这个计算机网络及其所应完成的功能的精确定义，它是计算机网络中的层次、各层的协议及层间接口的集合。需要强调的是，这些功能究竟是用何种硬件或软件完成的，则是一个遵循这种体系结构的实现\(Implementation\) 问题。体系结构是抽象的，而实现是具体的，是真正在运行的计算机硬件和软件**

## （3）分层原则

计算机网络的体系结构通常都具有可分层的特性，它将复杂的大系统分成若干较容易实现的层次。分层的基本原则如下：

1.  每层都实现一种**相对独立的功能**，降低大系统的复杂度
2.  各层之间**界面清晰、易于理解、相互交流尽可能少**
3.  各层功能的精确定义**独立于具体的实现方法**，可以采用**最合适的技术**来实现
4.  保持**下层对上层的独立性**，上层**单向使用**下层提供的服务
5.  整个分层结构应该能促进**标准化工作**

## （4）分层的优缺点

**优点**：分层后各层之间相对独立、灵活性好，因而分层的体系结构**易于更新、调试、交流、抽象和标准化**

**缺点**：

- 层次越少，会导致**每层的协议太过复杂**

- 层次越多，有些功能在不同层中难免会重复出现，因而有**额外的开销，导致整体运行效率降低**

# 二：计算机网络分层中的协议、接口和服务

根据上面所叙述的分层规则，可以将网络进行分层。分层后的网络从低层到高层依次称之为第1层、第2层…第n层，接着为每一层取一个特定的名称

在计算机网络的分层结构中，**第n层中的活动元素通常称为n层实体**

- 实体指**任何可发送或接收信息的硬件或软件进程**，通常是一个特定的软件模块
- 不同机器上的同一层称为**对等层**，同一层的实体称为**对等实体**
- n层实体实现的服务为n+ 1层所利用。在这种情况下，n层被称为**服务提供者**，n+ 1层则服务于**用户**

![在这里插入图片描述](https://ziquyun.com/main/csdn/img?url=https%3A%2F%2Fimg-blog.csdnimg.cn%2Fc95d86f1fe76412590309a604ae8834a.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_d3F5LXplbmhlaQ%2Cshadow_50%2Ctext_Q1NETiBA5b-r5LmQ5rGf5rmW%2Csize_20%2Ccolor_FFFFFF%2Ct_70%2Cg_se%2Cx_16&rfUrl=https%3A%2F%2Fzhangxing-tech.blog.csdn.net%2Farticle%2Fdetails%2F124220052)

具体来说，计算机网络层次结构要做到以下几点

- 第n层的实体不仅要使用第n-1层的服务来实现自身定义的功能，还要向第n + 1层提供本层的服务，**该服务是第n层及其下面各层提供的服务总和**
- **最低层**只提供服务，是整个层次结构的基础；**中间各层**既是下一层的服务使用者，又是上一层的服务提供者;**最高层**向用户提供服务
- 上一层只能通过相邻层间的接口使用下一层的服务，而不能调用其他层的服务；下一层所提供服务的实现细节对上一层**透明**
- 两台主机通信时，**对等层在逻辑上有一条直接信道**，表现为**不经过下层就把信息传送到对方**

## （1）协议、接口和服务

### ①：协议

**协议：协议就是规则的集合，在网络中要想做到有条不紊地交换数据，就必须遵守事先约定好的规则。这些为进行网络中的数据交换而建立起来的规则就叫做网络协议（Network Protocol），它是控制多个对等实体进行通信的规则集合，是水平的，不对等实体之间是没有协议的**

- 如用TCP/IP协议栈通信的两个结点，结点A的传输层和结点B的传输层之间存在协议，但结点A的传输层和结点B的网络层之间不存在协议

**协议由以下三部分组成**

- **语法**：规定了**传输数据的格式**
- **语义**：规定了**所要完成的功能**，也即需要发出何种控制信息、完成何种动作、做出何种应答
- **同步**：规定了**执行各种操作的条件、时序关系等**，也即事件实现顺序的详细说明

### ②：接口

**接口：接口是同一结点内相邻两层间交换信息的连接点，是一个系统内部的规定。每层只能为紧邻的层次之间定义接口，不能跨层定义接口**

### ③：服务

**服务：服务是指下层为紧邻的上层提供的功能调用，它是垂直的**

## （2）各层之间传送的信息

在计算机网络体系结构的各个层次中，**对等层之间传送的数据单位称之为该层的PDU（协议数据单元）**，第n层的协议数据单元就记为n-PDU，由以下两个部分构成

- **服务数据单元（SDU）**：为完成用户所要求的功能而应该传送的数据
- **协议控制信息（PCI）**：控制协议操作的信息

实际网络分层中（如OSI），每层的PDU还有一个特定的名称

- **物理层PDU：比特流（bit stream）**
- **数据链路层PDU：帧（frame）**
- **网络层PDU：IP数据报或分组（packet）**
- **传输层PDU：TCP报文段（segment）或UDP用户数据报（datagram）**
- **应用层PDU：报文（message）**

**各层间在传输数据时，发送方把从第上（n+1）层收到的PDU作为本层（n）的SDU然后加上下层（n-1）的PCI，就变成了本层（PDU）的PDU，最后交给下层（n-1）作为它的SDU发送（接收方接收时做相反的处理），因此可知三者的关系为n-SDU + n-PCI= n-PDU=\(n- 1\)-SDU**

![在这里插入图片描述](https://ziquyun.com/main/csdn/img?url=https%3A%2F%2Fimg-blog.csdnimg.cn%2F1642e7db8fb142539c836d4481494833.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_d3F5LXplbmhlaQ%2Cshadow_50%2Ctext_Q1NETiBA5b-r5LmQ5rGf5rmW%2Csize_20%2Ccolor_FFFFFF%2Ct_70%2Cg_se%2Cx_16&rfUrl=https%3A%2F%2Fzhangxing-tech.blog.csdn.net%2Farticle%2Fdetails%2F124220052)